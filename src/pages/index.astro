---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog', (post) => !post.data.draft && post.id.endsWith('.en.md'));
const latestPosts = allPosts
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 5);
---

<BaseLayout title="Sam Yong Zhi">
  <div class="hero">
    <h1>Sam Yong Zhi</h1>
    <p class="tagline">
      Father of twin girls trying to raise them for a world I can't fully predict.
      I write about parenting, money, and what AI is actually doing to our kids and careers.
    </p>
  </div>

  <div class="section-block">
    <p class="section-heading">Latest</p>
    <div class="post-list">
      {latestPosts.map((post) => <PostCard post={post} />)}
    </div>
  </div>

  <div class="section-block">
    <p class="section-heading">Topics</p>
    <ul class="topics-nav">
      <li><a href="/parenting">Parenting</a></li>
      <li><a href="/money">Money</a></li>
      <li><a href="/ai-and-work">AI & Work</a></li>
    </ul>
  </div>
</BaseLayout>
